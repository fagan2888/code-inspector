<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Forecast plot — StatForecast • forecast</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">forecast</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="https://cran.r-project.org/web/packages/forecast/vignettes/JSS2008.pdf">JSS paper</a>
</li>
<li>
  <a href="../news/index.html">Change Log</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/robjhyndman/forecast">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Forecast plot</h1>
    </div>

    
    <p>Generates forecasts from <code>forecast.ts</code> and adds them to the plot.
Forecasts can be modified via sending forecast specific arguments above.</p>
    

    <pre class="usage"><span class='no'>StatForecast</span>

<span class='no'>GeomForecast</span>

<span class='fu'>geom_forecast</span>(<span class='kw'>mapping</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>stat</span> <span class='kw'>=</span> <span class='st'>"forecast"</span>,
  <span class='kw'>position</span> <span class='kw'>=</span> <span class='st'>"identity"</span>, <span class='kw'>na.rm</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>show.legend</span> <span class='kw'>=</span> <span class='fl'>NA</span>,
  <span class='kw'>inherit.aes</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>PI</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>showgap</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>series</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mapping</th>
      <td><p>Set of aesthetic mappings created by <code>aes</code> or
<code>aes_</code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>The data to be displayed in this layer. There are three options:</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot data as
specified in the call to <code>ggplot</code>.</p>
<p>A <code>data.frame</code>, or other object, will override the plot data. All
objects will be fortified to produce a data frame. See <code>fortify</code>
for which variables will be created.</p>
<p>A <code>function</code> will be called with a single argument, the plot data. The
return value must be a <code>data.frame</code>, and will be used as the layer
data.</p></td>
    </tr>
    <tr>
      <th>stat</th>
      <td><p>The stat object to use calculate the data.</p></td>
    </tr>
    <tr>
      <th>position</th>
      <td><p>Position adjustment, either as a string, or the result of a
call to a position adjustment function.</p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p>If <code>FALSE</code> (the default), removes missing values with a
warning.  If <code>TRUE</code> silently removes missing values.</p></td>
    </tr>
    <tr>
      <th>show.legend</th>
      <td><p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped. <code>FALSE</code>
never includes, and <code>TRUE</code> always includes.</p></td>
    </tr>
    <tr>
      <th>inherit.aes</th>
      <td><p>If <code>FALSE</code>, overrides the default aesthetics, rather
than combining with them. This is most useful for helper functions that
define both data and aesthetics and shouldn't inherit behaviour from the
default plot specification, e.g. <code>borders</code>.</p></td>
    </tr>
    <tr>
      <th>PI</th>
      <td><p>If <code>FALSE</code>, confidence intervals will not be plotted, giving
only the forecast line.</p></td>
    </tr>
    <tr>
      <th>showgap</th>
      <td><p>If <code>showgap=FALSE</code>, the gap between the historical
observations and the forecasts is removed.</p></td>
    </tr>
    <tr>
      <th>series</th>
      <td><p>Matches an unidentified forecast layer with a coloured object
on the plot.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments for <code><a href='forecast.html'>forecast.ts</a></code>, other
arguments are passed on to <code>layer</code>. These are often aesthetics,
used to set an aesthetic to a fixed value, like <code>color = "red"</code> or
<code>alpha = .5</code>. They may also be parameters to the paired geom/stat.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p>An object of class <code>StatForecast</code> (inherits from <code>Stat</code>, <code>ggproto</code>) of length 3.</p>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A layer for a ggplot graph.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Multivariate forecasting is supported by having each time series on a
different group.</p>
<p>You can also pass <code>geom_forecast</code> a <code>forecast</code> object to add it to
the plot.</p>
<p>The aesthetics required for the forecasting to work includes forecast
observations on the y axis, and the <code>time</code> of the observations on the x
axis. Refer to the examples below. To automatically set up aesthetics, use
<code>autoplot</code>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='forecast.html'>forecast</a></code>, <code><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggproto'>ggproto</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='fu'>library</span>(<span class='no'>ggplot2</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='no'>USAccDeaths</span>) + <span class='fu'>geom_forecast</span>()

<span class='no'>lungDeaths</span> <span class='kw'>&lt;-</span> <span class='fu'>cbind</span>(<span class='no'>mdeaths</span>, <span class='no'>fdeaths</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='no'>lungDeaths</span>) + <span class='fu'>geom_forecast</span>()

<span class='co'># Using fortify.ts</span>
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggplot'>ggplot</a></span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>x</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>y</span>), <span class='kw'>data</span><span class='kw'>=</span><span class='no'>USAccDeaths</span>)
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='no'>p</span> + <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/geom_path'>geom_line</a></span>()
<span class='no'>p</span> + <span class='fu'>geom_forecast</span>()

<span class='co'># Without fortify.ts</span>
<span class='no'>data</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>USAccDeaths</span><span class='kw'>=</span><span class='fu'>as.numeric</span>(<span class='no'>USAccDeaths</span>), <span class='kw'>time</span><span class='kw'>=</span><span class='fu'>as.numeric</span>(<span class='fu'>time</span>(<span class='no'>USAccDeaths</span>)))
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggplot'>ggplot</a></span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>time</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>USAccDeaths</span>), <span class='kw'>data</span><span class='kw'>=</span><span class='no'>data</span>)
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='no'>p</span> + <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/geom_path'>geom_line</a></span>()
<span class='no'>p</span> + <span class='fu'>geom_forecast</span>()

<span class='no'>p</span> + <span class='fu'>geom_forecast</span>(<span class='kw'>h</span><span class='kw'>=</span><span class='fl'>60</span>)
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/ggplot'>ggplot</a></span>(<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/aes'>aes</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>time</span>, <span class='kw'>y</span><span class='kw'>=</span><span class='no'>USAccDeaths</span>), <span class='kw'>data</span><span class='kw'>=</span><span class='no'>data</span>)
<span class='no'>p</span> + <span class='fu'>geom_forecast</span>(<span class='kw'>level</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>70</span>,<span class='fl'>98</span>))
<span class='no'>p</span> + <span class='fu'>geom_forecast</span>(<span class='kw'>level</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='fl'>70</span>,<span class='fl'>98</span>),<span class='kw'>colour</span><span class='kw'>=</span><span class='st'>"lightblue"</span>)

<span class='co'>#Add forecasts to multivariate series with colour groups</span>
<span class='no'>lungDeaths</span> <span class='kw'>&lt;-</span> <span class='fu'>cbind</span>(<span class='no'>mdeaths</span>, <span class='no'>fdeaths</span>)
<span class='fu'><a href='http://www.rdocumentation.org/packages/ggplot2/topics/autoplot'>autoplot</a></span>(<span class='no'>lungDeaths</span>) + <span class='fu'>geom_forecast</span>(<span class='fu'><a href='forecast.html'>forecast</a></span>(<span class='no'>mdeaths</span>), <span class='kw'>series</span><span class='kw'>=</span><span class='st'>"mdeaths"</span>)
<span class='co'># }</span><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#format">Format</a></li>

      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Mitchell O'Hara-Wild

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://robjhyndman.com'>Rob Hyndman</a>, <a href='https://github.com/cbergmeir'>Christoph Bergmeir</a>, <a href='https://github.com/gabrielcaceres'>Gabriel Caceres</a>, <a href='https://github.com/mitchelloharawild'>Mitchell O'Hara-Wild</a>, <a href='https://github.com/slavarazbash'>Slava Razbash</a>, <a href='http://earo.me'>Earo Wang</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
